{"name":"jamppa","tagline":"","body":"jamppa\r\n======\r\n\r\njamppa started as a fork from [smack](https://github.com/igniterealtime/Smack) and [whack](http://fisheye.igniterealtime.org/browse/whack/trunk), but it uses [tinder](http://fisheye.igniterealtime.org/browse/tinder/trunk), and consequently DOM, for XML manipulation, which makes the developer's life easier.\r\n\r\n## Writing components\r\n\r\nA jamppa component uses handlers triggered by namespaces, so that you don't rely on a single method to process all incoming IQs. All components should extend XMPPComponent and then use the addGetHandler() and addSetHandler() methods to include handlers.\r\n\r\nHandlers should extend the AbstractQueryHandler class.\r\n\r\n```java\r\npublic static void main(String[] args) throws ComponentException {\r\n\tUppercaseComponent component = new UppercaseComponent(\"uppercase.test.com\", \r\n\t\t\"password\", \"localhost\", 5347);\r\n\tcomponent.connect();\r\n\tcomponent.process(true);\r\n}\r\n\r\nprivate static class UppercaseComponent extends XMPPComponent {\r\n\r\n\tpublic UppercaseComponent(String jid, String password, String server,\r\n\t\t\tint port) {\r\n\t\tsuper(jid, password, server, port);\r\n\t\taddHandlers();\r\n\t}\r\n\r\n\tprivate void addHandlers() {\r\n\t\taddGetHandler(new AbstractQueryHandler(\"uppercase\") {\r\n\t\t\t@Override\r\n\t\t\tpublic IQ handle(IQ query) {\r\n\t\t\t\tIQ resultIQ = IQ.createResultIQ(query);\r\n\t\t\t\tString originalContent = query.getElement()\r\n\t\t\t\t\t\t.element(\"query\").elementText(\"content\");\r\n\t\t\t\tresultIQ.getElement().addElement(\"query\", getNamespace())\r\n\t\t\t\t\t\t.addElement(\"content\")\r\n\t\t\t\t\t\t.setText(originalContent.toUpperCase());\r\n\t\t\t\treturn resultIQ;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\n## Writing clients\r\n\r\njamppa, just like [sleekxmpp](http://sleekxmpp.com/), works with a plugin architecture, and only the XMPP core is implemented in the standard client.\r\n\r\n```java\r\nXMPPClient client = new XMPPClient(\"client@test.com\", \r\n\t\t\t\t\"password\", \"localhost\", 5222);\r\n\r\nXEP0077 register = new XEP0077();\r\nclient.registerPlugin(register);\r\n\r\nclient.connect();\r\nregister.createAccount(\"client@test.com\", \"password\");\r\n\r\nclient.login();\r\nclient.process(false);\r\n\r\nIQ iq = new IQ(Type.get);\r\niq.setTo(\"uppercase.test.com\");\r\niq.getElement()\r\n\t\t.addElement(\"query\", \"uppercase\")\r\n\t\t.addElement(\"content\")\r\n\t\t.setText(\"hello world\");\r\n\r\nIQ response = (IQ) client.syncSend(iq);\r\nSystem.out.println(response.toXML());\r\nclient.disconnect();\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}